# Browser Based Games

In this project we'll build HTML views for our Tic-Tac-Toe and Towers
of Hanoi games. We're not going to write any of the core game code,
we'll just write **view classes** that display the game in the
browser, and also handle browser user input.

## Tic-Tac-Toe

We're looking to build something like [this][ttt-demo] (don't look at
the code!).

[ttt-demo]: http://appacademy.github.io/ttt.js/solution/html/index.html

**Structure**

Use the Tic-Tac-Toe solution. [Clone the repo][ttt-repo] and use the
skeleton directory for your project.

We've already written all the game logic of Tic-Tac-Toe. In
`ttt-core-solution/src` we've written several classes you can refer
to, but should not change. This code was written for Node, so it
wasn't ready to use in the browser: for instance, the browser does not
have a `require` function like Node.

To fix this, we used [Browserify][browserify] to concatenate the Node
source files and create a single `ttt-core-solution/ttt-core.js`
file. Because this file is machine generated, it looks a little weird.
Basically, it is a browser-ready version of our Tic-Tac-Toe code,
where everything is stored in a `TTT` namespace. In your
`html/index.html` file, we've already included a script tag to load
this. You'll be able to use `TTT.Board`, `TTT.Game`, and
`TTT.MoveError` in the browser now.

Don't worry too much about how browserify works. In short, it takes
code written for node and concatenates and transforms it so that it
can be used in the browser.

**Instructions**

You shouldn't have to modify anything in `ttt-core-solution`, but
definitely read and refer to that code.

Write a `TTT.View` class in `js/ttt-view.js`. To construct a
`TTT.View`, the constructor should take in a `TTT.Game` object and a
jQuery object in which to display the grid.

Write a `#setupBoard` method; it should make a grid to represent the
board. You can use `div` elements to represent rows in the grid. Nested
inside each row, add `div` elements for each cell. The cell `div`
elements should be set to `float: left` so that they can appear all on
the same line. Set a border on the cells to make it look like a grid.
Style unclicked cells with a gray `background`. Change the background to
yellow while the user `:hover`s over an unclicked cell.

Call `#setupBoard` in your constructor; check that this is drawing a
grid.

Write a `#bindEvents` method. When a user clicks on a cell, call
`TTT.Game#playMove` to register their move. Manipulate the cell div to
show the current player's mark. Add/remove CSS classes to change the
cell background to white and display the 'X's and 'O's in different
colors. I did all this in a `TTT.View#makeMove` method. I also popped an
`alert` if the move was invalid.

Display a congratulatory message when a player wins!

Note: The provided solutions are written for the node console. The
`TTT.Game` class has a `#run` and a `#promptMove` method. Ignore
these. You're going to call `TTT.Game#makeMove` directly from your
`TTT.View#makeMove` method.

## Towers of Hanoi

As before, please use the [Towers of Hanoi][toh-repo] solution. As
before, there is a `hanoi-core.js` file generated by Browserify. The
only class defined is `Hanoi.Game`.

Setup a directory structure as before: make `css`, `html` and `js`
directories.

Write a `hanoi-view.js` file, and a `Hanoi.View` class. As before,
pass in a `Hanoi.Game` and a DOM element.

Write a `Hanoi.View#setupTowers` method to fill the main DOM element
with a "naive" representation of the game (i.e., not reflecting the
current game state). Use divs to store three piles. Inside, use divs to
store the discs. Call this in your constructor.

Write a `Hanoi.View#render` to alter the DOM elements to reflect the
current game state. You should call this in your constructor, too.

In the constructor, install a click handler on each pile. I wrote a
`#clickTower` method. On the first click to a pile, get the pile
number and store this in an instance variable. On the second click
(which you can identify by the ivar being set), perform the move.
Reset the ivar after. I alerted the user if this was an invalid move.

After each move, call `render` to redraw the board.

To improve UX, use CSS to highlight a pile so that it is clear which
pile has been clicked first. You should do this by merely toggling a
class. Whenever you use jQuery, always try to just toggle classes.
Setting custom styles is nasty and mixes presentation logic with JS
code. Toggling classes is the clean, best-practice way to do this.

[ttt-repo]: https://github.com/appacademy/ttt.js
[browserify]: http://browserify.org/
[toh-repo]: https://github.com/appacademy/hanoi.js/blob/gh-pages/hanoi-core-solution/hanoi-core.js
